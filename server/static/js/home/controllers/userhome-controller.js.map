{"version":3,"sources":["home/controllers/userhome-controller.ts"],"names":["Home","Home.UserhomeCtrl","Home.UserhomeCtrl.UserhomeCtrl","Home.UserhomeCtrl.UserhomeCtrl.constructor","Home.UserhomeCtrl.UserhomeCtrl.constructor.initController","Home.UserhomeCtrl.UserhomeCtrl.constructor.loadCurrentUser","Home.UserhomeCtrl.UserhomeCtrl.constructor.loadAllUsers","Home.UserhomeCtrl.UserhomeCtrl.constructor.deleteUser"],"mappings":"AAAA,AACA,iDADiD;AACjD,IAAO,IAAI,CAsEV;AAtED,WAAO,IAAI;IAACA,IAAAA,YAAYA,CAsEvBA;IAtEWA,WAAAA,aAAYA,EAACA,CAACA;QACxBC,YAAYA,CAACA;QAEbA,IAAMA,YAAYA;YAehBC,oDAAoDA;YACpDA,SAhBIA,YAAYA,CAgBIA,gBAAiDA,EACjDA,UAAeA;gBADfC,qBAAgBA,GAAhBA,gBAAgBA,CAAiCA;gBACjDA,eAAUA,GAAVA,UAAUA,CAAKA;gBAEjCA,IAAIA,EAAEA,GAAGA,IAAIA,CAACA;gBACdA,EAAEA,CAACA,QAAQA,GAAGA,cAAcA,CAACA;gBAE7BA,EAAEA,CAACA,IAAIA,GAAGA,IAAIA,CAACA;gBACfA,EAAEA,CAACA,QAAQA,GAAGA,EAAEA,CAACA;gBACjBA,EAAEA,CAACA,UAAUA,GAAGA,UAAUA,CAACA;gBAE3BA,cAAcA,EAAEA,CAACA;gBAEjBA,SAASA,cAAcA;oBACrBC,eAAeA,EAAEA,CAACA;oBAClBA,YAAYA,EAAEA,CAACA;gBACjBA,CAACA;gBAEDD,SAASA,eAAeA;oBACtBE,gBAAgBA,CAACA,aAAaA,CAACA,UAAUA,CAACA,OAAOA,CAACA,WAAWA,CAACA,QAAQA,CAACA,CACpEA,IAAIA,CAACA,UAAUA,IAAIA;wBAClB,EAAE,CAAC,IAAI,GAAG,IAAI,CAAC;oBACjB,CAAC,CAACA,CAACA;gBACPA,CAACA;gBAEDF,SAASA,YAAYA;oBACnBG,gBAAgBA,CAACA,MAAMA,EAAEA,CACtBA,IAAIA,CAACA,UAAUA,KAAKA;wBACnB,EAAE,CAAC,QAAQ,GAAG,KAAK,CAAC;oBACtB,CAAC,CAACA,CAACA;gBACPA,CAACA;gBAEDH,SAASA,UAAUA,CAACA,EAAEA;oBACpBI,gBAAgBA,CAACA,MAAMA,CAACA,EAAEA,CAACA,CACxBA,IAAIA,CAACA;wBACJ,YAAY,EAAE,CAAC;oBACjB,CAAC,CAACA,CAACA;gBACPA,CAACA;YACHJ,CAACA;YAjDDD,sBAAsBA;YACtBA,4FAA4FA;YAC5FA,yGAAyGA;YACzGA,yCAAyCA;YAC3BA,oBAAOA,GAAGA,CAACA,kBAAkBA,EAAEA,YAAYA,CACxDA,CAACA;YA6CJA,mBAACA;QAADA,CAtDAD,AAsDCC,IAAAD;QAGDA,AAOAA;;;;;;UADEA;QACFA,OAAOA,CACJA,MAAMA,CAACA,MAAMA,CAACA,CACdA,UAAUA,CAACA,cAAcA,EAAEA,YAAYA,CAACA,CAACA;IAC9CA,CAACA,EAtEWD,YAAYA,GAAZA,iBAAYA,KAAZA,iBAAYA,QAsEvBA;AAADA,CAACA,EAtEM,IAAI,KAAJ,IAAI,QAsEV","file":"home/controllers/userhome-controller.js","sourceRoot":"/Users/erol/CAS_FEE/git/casfee/project_spa_bergauf/SpaBergaufDotCh/","sourcesContent":["///<reference path='../../../typings/tsd.d.ts' />\nmodule Home.UserhomeCtrl {\n  'use strict';\n\n  class UserhomeCtrl {\n\n    ctrlName: string\n\n    // $inject annotation.\n    // It provides $injector with information about dependencies to be injected into constructor\n    // it is better to have it close to the constructor, because the parameters must match in count and type.\n    // See http://docs.angularjs.org/guide/di\n    public static $inject = ['UserLocalStorage', '$rootScope'\n    ];\n\n    user: any;\n    allUsers: any;\n    deleteUser: any;\n\n    // dependencies are injected via AngularJS $injector\n    constructor(private UserLocalStorage: Home.Services.IUserLocalStorage,\n                private $rootScope: any) {\n\n      var vm = this;\n      vm.ctrlName = 'UserhomeCtrl';\n\n      vm.user = null;\n      vm.allUsers = [];\n      vm.deleteUser = deleteUser;\n\n      initController();\n\n      function initController() {\n        loadCurrentUser();\n        loadAllUsers();\n      }\n\n      function loadCurrentUser() {\n        UserLocalStorage.GetByUsername($rootScope.globals.currentUser.username)\n          .then(function (user) {\n            vm.user = user;\n          });\n      }\n\n      function loadAllUsers() {\n        UserLocalStorage.GetAll()\n          .then(function (users) {\n            vm.allUsers = users;\n          });\n      }\n\n      function deleteUser(id) {\n        UserLocalStorage.Delete(id)\n          .then(function () {\n            loadAllUsers();\n          });\n      }\n    }\n  }\n\n\n  /**\n  * @ngdoc object\n  * @name home.controller:UserhomeCtrl\n  *\n  * @description\n  *\n  */\n  angular\n    .module('home')\n    .controller('UserhomeCtrl', UserhomeCtrl);\n}\n"]}