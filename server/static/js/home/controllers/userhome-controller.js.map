{"version":3,"sources":["home/controllers/userhome-controller.ts"],"names":["Home","Home.UserhomeCtrl","Home.UserhomeCtrl.UserhomeCtrl","Home.UserhomeCtrl.UserhomeCtrl.constructor","Home.UserhomeCtrl.UserhomeCtrl.constructor.initController","Home.UserhomeCtrl.UserhomeCtrl.constructor.loadCurrentUser","Home.UserhomeCtrl.UserhomeCtrl.constructor.loadAllUsers","Home.UserhomeCtrl.UserhomeCtrl.constructor.deleteUser"],"mappings":"AAAA,AACA,iDADiD;AACjD,IAAO,IAAI,CA8EV;AA9ED,WAAO,IAAI;IAACA,IAAAA,YAAYA,CA8EvBA;IA9EWA,WAAAA,aAAYA,EAACA,CAACA;QACxBC,YAAYA,CAACA;QAEbA,IAAMA,YAAYA;YAehBC,oDAAoDA;YACpDA,SAhBIA,YAAYA,CAgBIA,gBAAiDA,EACjDA,IAAgBA,EAChBA,UAAeA,EACfA,IAAoBA;gBAHpBC,qBAAgBA,GAAhBA,gBAAgBA,CAAiCA;gBACjDA,SAAIA,GAAJA,IAAIA,CAAYA;gBAChBA,eAAUA,GAAVA,UAAUA,CAAKA;gBACfA,SAAIA,GAAJA,IAAIA,CAAgBA;gBAEtCA,IAAIA,EAAEA,GAAGA,IAAIA,CAACA;gBACdA,EAAEA,CAACA,QAAQA,GAAGA,cAAcA,CAACA;gBAE7BA,EAAEA,CAACA,IAAIA,GAAGA,IAAIA,CAACA;gBACfA,EAAEA,CAACA,QAAQA,GAAGA,EAAEA,CAACA;gBACjBA,EAAEA,CAACA,UAAUA,GAAGA,UAAUA,CAACA;gBAE3BA,cAAcA,EAAEA,CAACA;gBAEjBA,SAASA,cAAcA;oBACrBC,eAAeA,EAAEA,CAACA;oBAClBA,YAAYA,EAAEA,CAACA;gBACjBA,CAACA;gBAEDD,SAASA,eAAeA;oBACtBE,AACAA,kGADkGA;oBAClGA,IAAIA,CAACA,aAAaA,CAACA,UAAUA,CAACA,OAAOA,CAACA,WAAWA,CAACA,QAAQA,CAACA,CACxDA,IAAIA,CAACA,UAAUA,IAAIA;wBAClB,AACA,0CAD0C;wBAC1C,EAAE,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;wBACpB,IAAI,CAAC,KAAK,CAAC,kBAAkB,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBACpD,CAAC,CAACA,CAACA;gBACPA,CAACA;gBAEDF,SAASA,YAAYA;oBACnBG,AACAA,oDADoDA;oBACpDA,IAAIA,CAACA,MAAMA,EAAEA,CACVA,IAAIA,CAACA,UAAUA,KAAKA;wBACnB,AACA,8CAD8C;wBAC9C,EAAE,CAAC,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC;oBAC3B,CAAC,CAACA,CAACA;gBACPA,CAACA;gBAEDH,SAASA,UAAUA,CAACA,EAAEA;oBACpBI,AACAA,sDADsDA;oBACtDA,IAAIA,CAACA,MAAMA,CAACA,EAAEA,CAACA,CACZA,IAAIA,CAACA;wBACJ,YAAY,EAAE,CAAC;oBACjB,CAAC,CAACA,CAACA;gBACPA,CAACA;YACHJ,CAACA;YAzDDD,sBAAsBA;YACtBA,4FAA4FA;YAC5FA,yGAAyGA;YACzGA,yCAAyCA;YAC3BA,oBAAOA,GAAGA,CAACA,kBAAkBA,EAAEA,MAAMA,EAAEA,YAAYA,EAAEA,MAAMA,CACxEA,CAACA;YAqDJA,mBAACA;QAADA,CA9DAD,AA8DCC,IAAAD;QAGDA,AAOAA;;;;;;UADEA;QACFA,OAAOA,CACJA,MAAMA,CAACA,MAAMA,CAACA,CACdA,UAAUA,CAACA,cAAcA,EAAEA,YAAYA,CAACA,CAACA;IAC9CA,CAACA,EA9EWD,YAAYA,GAAZA,iBAAYA,KAAZA,iBAAYA,QA8EvBA;AAADA,CAACA,EA9EM,IAAI,KAAJ,IAAI,QA8EV","file":"home/controllers/userhome-controller.js","sourceRoot":"/Users/erol/CAS_FEE/git/casfee/project_spa_bergauf/SpaBergaufDotCh/","sourcesContent":["///<reference path='../../../typings/tsd.d.ts' />\nmodule Home.UserhomeCtrl {\n  'use strict';\n\n  class UserhomeCtrl {\n\n    ctrlName: string\n\n    // $inject annotation.\n    // It provides $injector with information about dependencies to be injected into constructor\n    // it is better to have it close to the constructor, because the parameters must match in count and type.\n    // See http://docs.angularjs.org/guide/di\n    public static $inject = ['UserLocalStorage', 'User', '$rootScope', '$log'\n    ];\n\n    user: any;\n    allUsers: any;\n    deleteUser: any;\n\n    // dependencies are injected via AngularJS $injector\n    constructor(private UserLocalStorage: Home.Services.IUserLocalStorage,\n                private User: User.IUser,\n                private $rootScope: any,\n                private $log: ng.ILogService) {\n\n      var vm = this;\n      vm.ctrlName = 'UserhomeCtrl';\n\n      vm.user = null;\n      vm.allUsers = [];\n      vm.deleteUser = deleteUser;\n\n      initController();\n\n      function initController() {\n        loadCurrentUser();\n        loadAllUsers();\n      }\n\n      function loadCurrentUser() {\n        //UserLocalStorage.GetByUsername($rootScope.globals.currentUser.username) // Local Storage Version\n        User.GetByUsername($rootScope.globals.currentUser.username) // Rest Version\n          .then(function (user) {\n            //vm.user = user; // Local Storage Version\n            vm.user = user.data;\n            $log.debug(\"loadCurrentUser \" + vm.user.username);\n          });\n      }\n\n      function loadAllUsers() {\n        //UserLocalStorage.GetAll() // Local Storage Version\n        User.GetAll() // Rest-Version\n          .then(function (users) {\n            //vm.allUsers = users;// Local Storage Version\n            vm.allUsers = users.data;\n          });\n      }\n\n      function deleteUser(id) {\n        //UserLocalStorage.Delete(id) // Local Storage Version\n        User.Delete(id) // Rest-Version\n          .then(function () {\n            loadAllUsers();\n          });\n      }\n    }\n  }\n\n\n  /**\n  * @ngdoc object\n  * @name home.controller:UserhomeCtrl\n  *\n  * @description\n  *\n  */\n  angular\n    .module('home')\n    .controller('UserhomeCtrl', UserhomeCtrl);\n}\n"]}