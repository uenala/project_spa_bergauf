{"version":3,"sources":["home/services/flash-service.ts"],"names":["Flash","Flash.Flash","Flash.Flash.constructor","Flash.Flash.get","Flash.Flash.clearFlashMessage","Flash.Flash.Success","Flash.Flash.Error"],"mappings":"AAAA,AACA,iDADiD;AACjD,IAAO,KAAK,CA2EX;AA3ED,WAAO,MAAK,EAAC,CAAC;IACZA,YAAYA,CAACA;IAQbA,IAAMA,KAAKA;QAKTC,SALIA,KAAKA,CAKWA,UAAeA;YAAfC,eAAUA,GAAVA,UAAUA,CAAKA;YAEjCA,UAAUA,CAACA,GAAGA,CAACA,sBAAsBA,EAAEA;gBACrC,IAAI,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC;gBAC7B,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;oBACV,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,uBAAuB,CAAC,CAAC,CAAC;wBACnC,OAAO,UAAU,CAAC,KAAK,CAAC;oBAC1B,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACN,AACA,yCADyC;wBACzC,KAAK,CAAC,uBAAuB,GAAG,KAAK,CAAC;oBACxC,CAAC;gBACH,CAAC;YACH,CAAC,CAACA,CAACA;QACLA,CAACA;QAEDD,mBAAGA,GAAHA;YACEE,MAAMA,CAACA,OAAOA,CAACA;QACjBA,CAACA;QAGOF,iCAAiBA,GAAzBA;YACEG,IAAIA,KAAKA,GAAGA,IAAIA,CAACA,UAAUA,CAACA,KAAKA,CAACA;YAClCA,EAAEA,CAACA,CAACA,KAAKA,CAACA,CAACA,CAACA;gBACVA,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA,uBAAuBA,CAACA,CAACA,CAACA;oBACnCA,OAAOA,IAAIA,CAACA,UAAUA,CAACA,KAAKA,CAACA;gBAC/BA,CAACA;gBAACA,IAAIA,CAACA,CAACA;oBACNA,AACAA,yCADyCA;oBACzCA,KAAKA,CAACA,uBAAuBA,GAAGA,KAAKA,CAACA;gBACxCA,CAACA;YACHA,CAACA;QACHA,CAACA;QAGDH,uBAAOA,GAAPA,UAAQA,OAAcA,EAAEA,uBAA+BA;YACrDI,IAAIA,CAACA,UAAUA,CAACA,KAAKA,GAAGA;gBACtBA,OAAOA,EAAEA,OAAOA;gBAChBA,IAAIA,EAAEA,SAASA;gBACfA,uBAAuBA,EAAEA,uBAAuBA;aACjDA,CAACA;QACJA,CAACA;QAEDJ,qBAAKA,GAALA,UAAMA,OAAcA,EAAEA,uBAA+BA;YACnDK,IAAIA,CAACA,UAAUA,CAACA,KAAKA,GAAGA;gBACtBA,OAAOA,EAAEA,OAAOA;gBAChBA,IAAIA,EAAEA,OAAOA;gBACbA,uBAAuBA,EAAEA,uBAAuBA;aACjDA,CAACA;QACJA,CAACA;QAlDaL,aAAOA,GAAGA,CAACA,YAAYA,CACpCA,CAACA;QAkDJA,YAACA;IAADA,CArDAD,AAqDCC,IAAAD;IAGDA,AAOAA;;;;;;OADGA;IACHA,OAAOA,CACJA,MAAMA,CAACA,MAAMA,CAACA,CACdA,OAAOA,CAACA,OAAOA,EAAEA,KAAKA,CAACA,CAACA;AAC7BA,CAACA,EA3EM,KAAK,KAAL,KAAK,QA2EX","file":"home/services/flash-service.js","sourceRoot":"/Users/erol/CAS_FEE/git/casfee/project_spa_bergauf/SpaBergaufDotCh/","sourcesContent":["///<reference path='../../../typings/tsd.d.ts' />\nmodule Flash {\n  'use strict';\n\n  export interface IFlashService {\n    get():string;\n    Success(message: string, keepAfterLocationChange: boolean) : void;\n    Error(message: string, keepAfterLocationChange: boolean) : void;\n }\n\n  class Flash {\n\n    public static $inject = ['$rootScope'\n    ];\n\n    constructor(private $rootScope: any) {\n\n      $rootScope.$on('$locationChangeStart', function () {\n        var flash = $rootScope.flash;\n        if (flash) {\n          if (!flash.keepAfterLocationChange) {\n            delete $rootScope.flash;\n          } else {\n            // only keep for a single location change\n            flash.keepAfterLocationChange = false;\n          }\n        }\n      });\n    }\n\n    get():string {\n      return 'Flash';\n    }\n\n\n    private clearFlashMessage() {\n      var flash = this.$rootScope.flash;\n      if (flash) {\n        if (!flash.keepAfterLocationChange) {\n          delete this.$rootScope.flash;\n        } else {\n          // only keep for a single location change\n          flash.keepAfterLocationChange = false;\n        }\n      }\n    }\n\n\n    Success(message:string, keepAfterLocationChange:boolean) {\n      this.$rootScope.flash = {\n        message: message,\n        type: 'success',\n        keepAfterLocationChange: keepAfterLocationChange\n      };\n    }\n\n    Error(message:string, keepAfterLocationChange:boolean) {\n      this.$rootScope.flash = {\n        message: message,\n        type: 'error',\n        keepAfterLocationChange: keepAfterLocationChange\n      };\n    }\n  }\n\n\n  /**\n   * @ngdoc service\n   * @name home.service:Flash\n   *\n   * @description\n   *\n   */\n  angular\n    .module('home')\n    .service('Flash', Flash);\n}\n"]}